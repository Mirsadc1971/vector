<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebP Implementation Test</title>
    <link rel="stylesheet" href="css/image-optimization.css">
    <style>
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 2px solid #ddd;
            border-radius: 8px;
        }
        .test-hero {
            height: 300px;
            margin: 20px 0;
            border: 2px solid #333;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-weight: bold;
        }
        .webp-supported { background: #d4edda; color: #155724; }
        .webp-not-supported { background: #f8d7da; color: #721c24; }
    </style>
    <script>
        (function() {
            'use strict';

            // WebP detection function
            function supportsWebP(callback) {
                var webP = new Image();
                webP.onload = webP.onerror = function () {
                    callback(webP.height == 2);
                };
                webP.src = 'data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA';
            }

            // Add WebP support class to HTML element
            supportsWebP(function(supported) {
                var htmlElement = document.documentElement;
                if (supported) {
                    htmlElement.classList.add('webp');
                } else {
                    htmlElement.classList.add('no-webp');
                }

                // Update status display
                document.addEventListener('DOMContentLoaded', function() {
                    var statusDiv = document.getElementById('webp-status');
                    if (supported) {
                        statusDiv.className = 'status webp-supported';
                        statusDiv.innerHTML = '✓ WebP is supported! Using optimized WebP images (45% smaller file size)';
                    } else {
                        statusDiv.className = 'status webp-not-supported';
                        statusDiv.innerHTML = '✗ WebP not supported. Using JPG fallback images';
                    }
                });
            });
        })();
    </script>
<style>

/* MANAGE369 CONSISTENT COLOR SCHEME */
body {
    background: #1a252f !important;
    color: #e5e7eb !important;
}

section {
    background: #1f2937 !important;
    color: #e5e7eb !important;
}

.header, header, nav {
    background: #2C3E50 !important;
}

h1, h2, h3, h4, h5, h6 {
    color: #F4A261 !important;
}

.card, .area-card, .service-card {
    background: #2C3E50 !important;
    color: #e5e7eb !important;
    border: 1px solid #374151 !important;
}

.card:hover, .area-card:hover, .service-card:hover {
    border-color: #F4A261 !important;
}

a {
    color: #F4A261 !important;
}

.btn, button {
    background: linear-gradient(135deg, #084298 0%, #F4A261 100%) !important;
    color: white !important;
}

footer {
    background: #2C3E50 !important;
    color: #e5e7eb !important;
}

/* Remove any white backgrounds */
[style*="background: white"],
[style*="background: #fff"],
[style*="background: #ffffff"],
[style*="background-color: white"],
[style*="background-color: #fff"],
[style*="background-color: #ffffff"] {
    background: #2C3E50 !important;
}

</style>
<style>


/* Fix Navigation Layout - Proper Alignment */
.header {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    padding: 1rem 2rem !important;
}

.logo {
    flex: 0 0 auto !important;
    margin-right: 2rem !important;
}

.nav {
    display: flex !important;
    align-items: center !important;
    gap: 0 !important;
    flex: 1 1 auto !important;
    justify-content: flex-start !important;
    margin-left: 0 !important;
}

.header-cta {
    flex: 0 0 auto !important;
    margin-left: 2rem !important;
}

/* Ensure nav links stay together */
.nav-link {
    white-space: nowrap !important;
}

.dropdown {
    position: relative !important;
}

/* Mobile menu stays on right */
.mobile-menu-toggle {
    margin-left: auto !important;
}

/* Remove conflicting styles */
nav {
    position: static !important;
    transform: none !important;
}
/* Mobile menu fix */
.mobile-menu-toggle {
    margin-left: auto !important;
}

/* Remove any conflicting styles */
nav {
    position: static !important;
    transform: none !important;
    margin: 0 !important;
}

</style>
</head>
<body>
    <div class="test-container">
        <h1>WebP Implementation Test</h1>

        <div class="test-section">
            <h2>WebP Support Detection</h2>
            <div id="webp-status" class="status">Detecting WebP support...</div>
        </div>

        <div class="test-section">
            <h2>Optimized Hero Section Test</h2>
            <p>This section uses the hero-optimized class with automatic WebP/JPG switching:</p>
            <div class="test-hero hero-optimized">
                <div class="hero-content" style="padding-top: 80px;">
                    <h1>Test Hero Section</h1>
                    <p style="color: white; font-size: 1.2rem;">Background image loads WebP format when supported</p>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>Performance Benefits</h2>
            <ul>
                <li><strong>File Size Reduction:</strong> WebP version is 102KB vs JPG 187KB (45% smaller)</li>
                <li><strong>Critical CSS:</strong> Above-the-fold styles are inlined for faster rendering</li>
                <li><strong>Responsive Images:</strong> Different positioning for mobile devices</li>
                <li><strong>Preloading:</strong> Critical images are preloaded based on format support</li>
                <li><strong>Fallback Support:</strong> Automatic fallback to JPG for unsupported browsers</li>
            </ul>
        </div>

        <div class="test-section">
            <h2>Testing Instructions</h2>
            <ol>
                <li>Open browser developer tools (F12)</li>
                <li>Go to Network tab</li>
                <li>Reload this page</li>
                <li>Look for image requests - you should see either .webp or .jpg being loaded</li>
                <li>Check the file size in the network tab</li>
                <li>Test on different browsers to verify fallback behavior</li>
            </ol>
        </div>
    </div>
</body>
</html>